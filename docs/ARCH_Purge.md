<!-- PURGE_ARCH:CANONICAL -->
# ARCH — Purge / Housekeeping (kanonisch)

_Generated by R3599 on 2026-01-19T12:46:22_

## Ziel
- Klar definieren, was **Purge/Housekeeping** in ShrimpDev bedeutet.
- Trennen von: **Purge Scan** (Analyse) vs. **Apply Purge** (Änderung).
- Single Source of Truth für Ausführung: **Canonical Executor** (`modules/toolbar_runner_exec.py`).

## Soll-Verhalten (Definition)
### Purge Scan
- Führt **nur Analyse** durch (read-only).
- Ergebnis ist ein **Report** (und ggf. Report-Popup via bestehender UI-Logik).

### Apply Purge
- Wendet **konkret definierte** Aufräum-/Bereinigungsaktionen an.
- Muss über den **canonical executor** laufen (kein UI-Sonderpfad).
- Muss am Ende den **relevanten Report** zeigen (MR: bestehender Popup-Mechanismus).

## Trigger / Einstiegspunkte (TODO – zu bestätigen)
- UI-Button/Toolbar (falls vorhanden)
- Menüs/Actions (falls vorhanden)
- Runner (z. B. historisch R2218/R2224/R3106 – nur als Referenz)

## Hinweise aus vorhandenen Quellen (Extraktion)
### Aus docs/PIPELINE.md
- L9
```
| Lane | Zweck | Typische Tasks | Standard-Priorität |
|------|------|---------------|--------------------|
| **A** | Stabilität, Startfähigkeit, Crash/Import-Risiken, Safety | DIAG → APPLY, Guarding, Smoke-Tests | **P0/P1** |
| **B** | Core-Funktionalität ShrimpDev/ShrimpHub (UI/Features) | APPLY (modular), kleine Verbesserungen | **P1/P2** |
| **C** | Tooling & Automationen (Build/Patch/Push/Scans) | DIAG/APPLY, Hygiene, Automatisierung | **P1/P2** |
```
- L10
```
|------|------|---------------|--------------------|
| **A** | Stabilität, Startfähigkeit, Crash/Import-Risiken, Safety | DIAG → APPLY, Guarding, Smoke-Tests | **P0/P1** |
| **B** | Core-Funktionalität ShrimpDev/ShrimpHub (UI/Features) | APPLY (modular), kleine Verbesserungen | **P1/P2** |
| **C** | Tooling & Automationen (Build/Patch/Push/Scans) | DIAG/APPLY, Hygiene, Automatisierung | **P1/P2** |
| **D** | Regeln, Doku, Governance, Konsistenz | DOCS-only, Pipeline-Schärfung | **P1/P2** |
```
- L11
```
| **A** | Stabilität, Startfähigkeit, Crash/Import-Risiken, Safety | DIAG → APPLY, Guarding, Smoke-Tests | **P0/P1** |
| **B** | Core-Funktionalität ShrimpDev/ShrimpHub (UI/Features) | APPLY (modular), kleine Verbesserungen | **P1/P2** |
| **C** | Tooling & Automationen (Build/Patch/Push/Scans) | DIAG/APPLY, Hygiene, Automatisierung | **P1/P2** |
| **D** | Regeln, Doku, Governance, Konsistenz | DOCS-only, Pipeline-Schärfung | **P1/P2** |
| **E** | Websites/SEO/Monetarisierung (Shirimpi) | Ideen → Plan → Umsetzung | **P2/P3** |
```
- L23
```
## Lane A — Stabilität & Core
<!-- R3512_LANE_A_P0_START -->
**R3512 NOTE – Lane A P0 Clarification (post-phantom cleanup):**
- Only items that **block app start** or **cause crashes in default flows** remain P0.
- Historical/architectural items or feature hardening belong to P1/P2.
```
- L34
```
<!-- R3511_NOTE_START -->

**R3511 NOTE (verified by R3510 recursive scan):**
- `R2374 / R2375 / R2377 / R2378` are **referenced historically** (docs/pipeline), but **no active runner files** were found in the repo scan.
- `R2379` exists as tools runner files, but other references are largely docs/reports.
```
- L35
```

**R3511 NOTE (verified by R3510 recursive scan):**
- `R2374 / R2375 / R2377 / R2378` are **referenced historically** (docs/pipeline), but **no active runner files** were found in the repo scan.
- `R2379` exists as tools runner files, but other references are largely docs/reports.
- Treat these as **ARCH/HISTORICAL** unless we explicitly *materialize* missing runners.
```
- L44
```
- [x] (P0) [CORE] (HIGHEST / BLOCKER) **R2372 – Architektur: INI Single Writer (Design + API)** (src:C:/Users/rasta/OneDrive/ShrimpDev_REPO/tools/Archiv/R2370.py:L122)

  - [x] (DONE) APPLY: module_docking cfg.write(f) -> ini_writer.write() (R3354)
    - report: Report_R3354_20260112_145514.md | pipeline mark: R3355 | 2026-01-12 15:02

```
- L48
```


  - [x] (DONE) APPLY: Fix: Runner-ID mismatch (py = cmd-1) (R3351)
    - report: Report_R3351_*.md | pipeline mark: R3352 | 2026-01-12 14:39

```
- L52
```


  - [x] (DONE) APPLY: config_loader INI writes -> ini_writer.write() (R3349)
    - report: Report_R3349_*.md | pipeline mark: R3350 | 2026-01-12 14:26

```
- L55
```
    - report: Report_R3349_*.md | pipeline mark: R3350 | 2026-01-12 14:26

  - [x] (DONE) DIAG: INI write offenders scan (R3347) → Report_R3347_20260112_125757.md
  - [x] (DONE) Docs: Runner Architecture – Lessons Learned (R3346)
    - Pipeline-Markierung via R3348
```
- L116
```
- `ui_toolbar.py` wird deutlich dünner (Orchestrator)
- Repo/Registry/Action-Routing in eigene Module ausgelagert (testbar)
- Push/Purge bleiben funktional (keine Verluste)
- Smoke-Test/Import-Check Runner vorhanden

```
- L125
```
- **P0.A Runner-Execution isolieren**: Threading/Subprocess aus `ui_toolbar.py` hinter eine klare API; UI ruft nur noch Orchestrator auf. — DONE (verified) (Report_R3402_20260112_233849.md) (Report_R3403_20260112_234334.md)
  - DoD: keine Runner-Startlogik direkt im UI; 1 definierte `run_runner(...)`-Entry; UI bleibt responsiv.
- **P0.B Smoke/Crash-Schutz**: Read-only Smoke-Runner vor APPLY-Stufen (Import + minimaler Toolbar-Aufbau wenn möglich). — DONE (verified via R3390 on 2026-01-12) (Verification: Report_R3390_20260112_210110.md)
- **P0.C Central Dispatch Entry-Point**: toolbar actions laufen über `_dispatch_action(...)` (minimaler Router-Einstieg, keine Behavior-Änderung). (Verification: Report_R3409_20260113_095743.md) — DONE (verified 2026-01-13)
  - DoD: Smoke grün nach jedem APPLY; Report + Exitcodes.
```
- L127
```
- **P0.B Smoke/Crash-Schutz**: Read-only Smoke-Runner vor APPLY-Stufen (Import + minimaler Toolbar-Aufbau wenn möglich). — DONE (verified via R3390 on 2026-01-12) (Verification: Report_R3390_20260112_210110.md)
- **P0.C Central Dispatch Entry-Point**: toolbar actions laufen über `_dispatch_action(...)` (minimaler Router-Einstieg, keine Behavior-Änderung). (Verification: Report_R3409_20260113_095743.md) — DONE (verified 2026-01-13)
  - DoD: Smoke grün nach jedem APPLY; Report + Exitcodes.
- **P1.A Popup/Report-Handling konsolidieren**: ein kanonischer Pfad für Report-Anzeige (Push/Purge gemäß Standard). — DONE (verified) (Report_R3393_20260112_221547.md) (Report_R3394_20260112_222242.md)
  - DoD: keine doppelten Popup-Overlays; konsistentes Verhalten.
```
- L128
```
- **P0.C Central Dispatch Entry-Point**: toolbar actions laufen über `_dispatch_action(...)` (minimaler Router-Einstieg, keine Behavior-Änderung). (Verification: Report_R3409_20260113_095743.md) — DONE (verified 2026-01-13)
  - DoD: Smoke grün nach jedem APPLY; Report + Exitcodes.
- **P1.A Popup/Report-Handling konsolidieren**: ein kanonischer Pfad für Report-Anzeige (Push/Purge gemäß Standard). — DONE (verified) (Report_R3393_20260112_221547.md) (Report_R3394_20260112_222242.md)
  - DoD: keine doppelten Popup-Overlays; konsistentes Verhalten.
- **P1.B Import-Hygiene/Verantwortlichkeiten**: redundante/verteile Imports reduzieren (nur minimal, ohne Semantikänderung).
```
- L143
```
3. **Extract action router** → `modules/toolbar_action_router.py`
   - `call_action(app, name)` robust + logging
4. **Extract Push/Purge section** → `modules/toolbar_sections/section_push_purge.py`
   - Builder-Funktion, reduziert nested closures im Hauptfile
5. **ui_toolbar.py cleanup**
```
- L145
```
4. **Extract Push/Purge section** → `modules/toolbar_sections/section_push_purge.py`
   - Builder-Funktion, reduziert nested closures im Hauptfile
5. **ui_toolbar.py cleanup**
   - nur Orchestrator-Aufrufe, keine Logikvermischung
6. **Smoke-Test Runner**
```
- L221
```
### Imported Tasks (auto)

> Auto-importiert (Extended Scan: inkl. Markdown TODOs + Legacy). Bitte später konsolidieren.

- [ ] (P0) [CORE] (HIGHEST / BLOCKER) **Central Runner-Executor API (App ↔ logic_actions)** — UI-Actions dürfen keine Runner-IDs kennen; 1 kanonischer Executor + Smoke-Test
```
- L233
```
- [ ] (P1) [PROD] TODO: \n- File: `{pipeline}`\n- Backup: `{backup}`\n", _(src: C:/Users/rasta/OneDrive/ShrimpDev_REPO/_Archiv/Runner_Staging_2025-12-25/R2598.py:L59)_ (src:C:/Users/rasta/OneDrive/ShrimpDev_REPO/Reports/Report_R2658_20251225_202537.md:L24)
- [ ] (P1) [CORE] NOTE: Did not match expected 'run: uvx ruff ...' lines. Please verify ci.yml manually.", _(src: C:/Users/rasta/OneDrive/ShrimpDev_REPO/tools/R2580.py:L109)_ (src:C:/Users/rasta/OneDrive/ShrimpDev_REPO/Reports/Report_R2658_20251225_202537.md:L25)
- [ ] (P1) [PROD] TODO: ][HIGH] Runner-Cleanup – Archivierung unbenutzter Runner _(src: C:/Users/rasta/OneDrive/ShrimpDev_REPO/_Pipeline/Pipeline_R2016_RunnerCleanup_20251208_154653.txt:L1)_ (src:C:/Users/rasta/OneDrive/ShrimpDev_REPO/Reports/Report_R2658_20251225_202537.md:L27)
- [ ] (P1) [CORE] (P1) ... (src:C:/Users/rasta/OneDrive/ShrimpDev_REPO/docs/ARCHITECTURE.md:L176)
- [ ] (P1) [CORE] TODO: -Pipeline: eigener GUI-Tab MasterRules (Viewer + Open/Refresh). (src:C:/Users/rasta/OneDrive/ShrimpDev_REPO/docs/Pipeline_Notes.md:L29)
```
- L369
```
<!-- SHRIMPDEV_PIPELINE_FSTRING_GUARD -->
(P1) TODO: (CI/Guard) Introduce/keep Lint-Guard for f-string unknown identifiers (Runner R2867) and run it before Push.
(P1) TODO: (UI) Add a toolbar button “Lint Guard (R2867)” near Push/Purge diagnostics; on click run R2867 and show latest report via popup helper.
(P1) TODO: (Docs) Canonical paths reminder: MasterRules live in docs/Master/*.md; pipeline is docs/PIPELINE.md. All doc-updates must target canonical files (no root MasterRules.md).

```
- L580
```


### P1 — Housekeeping-Konzept (Auto-Purge über Canonical Executor)
- **Ziel**: Automatisches Housekeeping, insbesondere **Purge wieder vollautomatisch** (kein manueller R3106-Run).
- **Prinzip**: UI delegiert ausschließlich an `modules/toolbar_runner_exec.py` (Single Source of Truth).
```
- L581
```

### P1 — Housekeeping-Konzept (Auto-Purge über Canonical Executor)
- **Ziel**: Automatisches Housekeeping, insbesondere **Purge wieder vollautomatisch** (kein manueller R3106-Run).
- **Prinzip**: UI delegiert ausschließlich an `modules/toolbar_runner_exec.py` (Single Source of Truth).
- **Safety**: Guards/Confirm/Logging/Report-Popup (MR-konform, diagnose-first).
```
- L584
```
- **Prinzip**: UI delegiert ausschließlich an `modules/toolbar_runner_exec.py` (Single Source of Truth).
- **Safety**: Guards/Confirm/Logging/Report-Popup (MR-konform, diagnose-first).
- **Aktion**: B2.1 Purge reaktivieren → Executor → R3106 (oder definierter Nachfolger).
- **Public GitHub Referenz**: https://github.com/Domtexe/ShrimpDev-Public

```
- L596
```
  - [ ] log report path and exit code (no Tk callback explosions)
- **DoD**
  - [ ] Push uses executor, Purge uses executor
  - [ ] No UI module calls subprocess directly
  - [ ] One place to change behavior (Single Source of Truth)
```
- L607
```
- [ ] Extract pure helper pieces if needed (icons/layout/widgets) into small modules
- **DoD**
  - [ ] One Push button + one Purge button in code (no duplicates)
  - [ ] Buttons call logic_actions → executor
  - [ ] py_compile green
```
- L618
```

### B4 — MR Guardrails (anti-kaskade)
- [ ] Explicitly enforce: DIAG → one APPLY → stop; no “runner fixes runner fixes runner”
- [ ] Phantom runner references: must be tagged/archived until materialized (already started)
- **DoD**
```
- L625
```
<!-- R3518_LANE_B_END -->

<!-- R3541 BEGIN: Housekeeping Follow-ups -->
## Lane B – Hardening: Housekeeping (Follow-ups)

```
- L626
```

<!-- R3541 BEGIN: Housekeeping Follow-ups -->
## Lane B – Hardening: Housekeeping (Follow-ups)

**Done (Housekeeping Baseline):**
```
- L628
```
## Lane B – Hardening: Housekeeping (Follow-ups)

**Done (Housekeeping Baseline):**
- Purge/Housekeeping ist produktiv: räumt real auf (Archiv statt Delete), Relevanz-Policy aktiv (`tools/` zählt nicht als runtime).

```
- L629
```

**Done (Housekeeping Baseline):**
- Purge/Housekeeping ist produktiv: räumt real auf (Archiv statt Delete), Relevanz-Policy aktiv (`tools/` zählt nicht als runtime).

**Next Tasks (priorisiert):**
```
- L633
```
**Next Tasks (priorisiert):**
1) **Allowlist standardisieren & aktivieren**  
   Ziel: explizite Pinning-Möglichkeit für kritische Runner (Override unabhängig von Scan/Policy).

2) **Auto-Purge Strategy definieren**  
```

### Aus CHANGELOG.md
- L179
```
- Auto-Detect hart verdrahtet (Paste/Key/Start, debounced).
- Buttons zusätzlich via MouseUp gebunden.
- Rechte Liste: Fallback-Scan des Zielordners, wenn keine History da ist.

## v9.9.33 (2025-10-18)
```
- L249
```

## R1987 Intake Health & Autofix
- 2025-12-08: Intake-Health-Scan und Legacy-Archivierung (R1987).
- Intake-Module geprueft; Legacy-Intake kopiert nach _Archiv/Legacy_Intake.
- Pipeline-Eintraege fuer offene Punkte erzeugt.
```
- L334
```

## 2025-12-18 - R2340
- Docking: Persist/Restore robuster (wm_geometry + after_idle apply + Offscreen-Check verbessert).

## 2025-12-18 - R2343
```
- L376
```
## R2368
- Docking: Restore-Hardfix nutzt <key>.geometry + Offscreen-Fallback
- Main: late-apply UI.geometry nach update_idletasks

## R2368
```
- L380
```
## R2368
- Docking: Restore-Hardfix nutzt <key>.geometry + Offscreen-Fallback
- Main: late-apply UI.geometry nach update_idletasks

## R2369
```
- L389
```

## [20260105_192810] Governance
- Enforced Purge Popup UX: no empty popups (Summary + Report button).
- Introduced strict Diagnose-first rule for UI fixes.
- Added generator safety rule (no multiline f-strings).
```
- L395
```

## 20260106_105428 – R3086
- UI: Purge uses Option A (R2224 APPLY) and shows `_Reports/R2224_*.txt` in dedicated TXT popup (no bridge wrapper).
- Docs: MasterRules + Architecture updated (Diagnosepflicht, Output Ownership).

```
- L399
```

### Doku-Notiz (R3154, 2026-01-08 17:27:15)
- MR-REF (Refactoring/Cleanup) ergänzt: Obsoleter Code darf raus, **aber Funktion bleibt**; belegt entfernen; minimal-invasive Runner; Backup+Report+Smoke-Test; keine riskanten Auto-Edits in Funktionskörpern.

\n## 2026-01-12 - R2346\n- Fix: ui_filters Import/Usage von config_loader.load() wieder kompatibel gemacht (Compat-API in config_loader/config_mgr).\n
```

### Aus debug_output.txt
- L737
```
[module_learningjournal] 2025-12-25 21:49:04 LearningJournal-Tab (Filter/Suche) gebaut und initial geladen.
[module_learningjournal] 2025-12-25 21:50:21 Learning-Eintrag geschrieben: type=intake_new, id=1318
[2025-12-25 21:51:08] [RUNNER] START R2218 | Tools Purge Scan
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: ========================================================================
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] Tools Purge Flat Scan v3 (mtime-based KEEP last 20, ROOT ONLY)
```
- L738
```
[module_learningjournal] 2025-12-25 21:50:21 Learning-Eintrag geschrieben: type=intake_new, id=1318
[2025-12-25 21:51:08] [RUNNER] START R2218 | Tools Purge Scan
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: ========================================================================
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] Tools Purge Flat Scan v3 (mtime-based KEEP last 20, ROOT ONLY)
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: Anchor: newest by mtime of .cmd/.py (pair-aware, robust)
```
- L739
```
[2025-12-25 21:51:08] [RUNNER] START R2218 | Tools Purge Scan
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: ========================================================================
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] Tools Purge Flat Scan v3 (mtime-based KEEP last 20, ROOT ONLY)
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: Anchor: newest by mtime of .cmd/.py (pair-aware, robust)
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: ========================================================================
```
- L740
```
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: ========================================================================
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] Tools Purge Flat Scan v3 (mtime-based KEEP last 20, ROOT ONLY)
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: Anchor: newest by mtime of .cmd/.py (pair-aware, robust)
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: ========================================================================
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] Anchor (mtime): R2676 @ 2025-12-25 21:48:44
```
- L741
```
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] Tools Purge Flat Scan v3 (mtime-based KEEP last 20, ROOT ONLY)
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: Anchor: newest by mtime of .cmd/.py (pair-aware, robust)
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: ========================================================================
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] Anchor (mtime): R2676 @ 2025-12-25 21:48:44
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] KEEP (buffer+keepfile): 32 | ARCHIVE: 102 | Total pairs: 134
```
- L742
```
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: Anchor: newest by mtime of .cmd/.py (pair-aware, robust)
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: ========================================================================
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] Anchor (mtime): R2676 @ 2025-12-25 21:48:44
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] KEEP (buffer+keepfile): 32 | ARCHIVE: 102 | Total pairs: 134
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] Plan: C:\Users\rasta\OneDrive\ShrimpDev_REPO\docs\Tools_Purge_Flat_Plan.md
```
- L743
```
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: ========================================================================
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] Anchor (mtime): R2676 @ 2025-12-25 21:48:44
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] KEEP (buffer+keepfile): 32 | ARCHIVE: 102 | Total pairs: 134
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] Plan: C:\Users\rasta\OneDrive\ShrimpDev_REPO\docs\Tools_Purge_Flat_Plan.md
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] REPORT: C:\Users\rasta\OneDrive\ShrimpDev_REPO\Reports\R2218_Tools_Purge_Flat_Scan_v3_20251225_215108.txt
```
- L744
```
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] Anchor (mtime): R2676 @ 2025-12-25 21:48:44
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] KEEP (buffer+keepfile): 32 | ARCHIVE: 102 | Total pairs: 134
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] Plan: C:\Users\rasta\OneDrive\ShrimpDev_REPO\docs\Tools_Purge_Flat_Plan.md
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] REPORT: C:\Users\rasta\OneDrive\ShrimpDev_REPO\Reports\R2218_Tools_Purge_Flat_Scan_v3_20251225_215108.txt
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] DONE (Code 0)
```
- L745
```
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] KEEP (buffer+keepfile): 32 | ARCHIVE: 102 | Total pairs: 134
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] Plan: C:\Users\rasta\OneDrive\ShrimpDev_REPO\docs\Tools_Purge_Flat_Plan.md
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] REPORT: C:\Users\rasta\OneDrive\ShrimpDev_REPO\Reports\R2218_Tools_Purge_Flat_Scan_v3_20251225_215108.txt
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] DONE (Code 0)
[2025-12-25 21:51:08] [RUNNER] END R2218 | exit=0
```
- L746
```
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] Plan: C:\Users\rasta\OneDrive\ShrimpDev_REPO\docs\Tools_Purge_Flat_Plan.md
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] REPORT: C:\Users\rasta\OneDrive\ShrimpDev_REPO\Reports\R2218_Tools_Purge_Flat_Scan_v3_20251225_215108.txt
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] DONE (Code 0)
[2025-12-25 21:51:08] [RUNNER] END R2218 | exit=0
[2025-12-25 21:51:20] [RUNNER] START R2224 | Tools Purge Apply
```
- L747
```
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] REPORT: C:\Users\rasta\OneDrive\ShrimpDev_REPO\Reports\R2218_Tools_Purge_Flat_Scan_v3_20251225_215108.txt
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] DONE (Code 0)
[2025-12-25 21:51:08] [RUNNER] END R2218 | exit=0
[2025-12-25 21:51:20] [RUNNER] START R2224 | Tools Purge Apply
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: ========================================================================
```
- L748
```
[2025-12-25 21:51:08] [RUNNER] R2218 STDOUT: [R2218] DONE (Code 0)
[2025-12-25 21:51:08] [RUNNER] END R2218 | exit=0
[2025-12-25 21:51:20] [RUNNER] START R2224 | Tools Purge Apply
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: ========================================================================
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] Tools Purge Flat APPLY v3 (plan-driven, ROOT ONLY, pair-aware)
```
- L749
```
[2025-12-25 21:51:08] [RUNNER] END R2218 | exit=0
[2025-12-25 21:51:20] [RUNNER] START R2224 | Tools Purge Apply
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: ========================================================================
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] Tools Purge Flat APPLY v3 (plan-driven, ROOT ONLY, pair-aware)
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: Plan: C:\Users\rasta\OneDrive\ShrimpDev_REPO\docs\Tools_Purge_Flat_Plan.md
```
- L750
```
[2025-12-25 21:51:20] [RUNNER] START R2224 | Tools Purge Apply
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: ========================================================================
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] Tools Purge Flat APPLY v3 (plan-driven, ROOT ONLY, pair-aware)
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: Plan: C:\Users\rasta\OneDrive\ShrimpDev_REPO\docs\Tools_Purge_Flat_Plan.md
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: ========================================================================
```
- L751
```
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: ========================================================================
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] Tools Purge Flat APPLY v3 (plan-driven, ROOT ONLY, pair-aware)
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: Plan: C:\Users\rasta\OneDrive\ShrimpDev_REPO\docs\Tools_Purge_Flat_Plan.md
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: ========================================================================
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] SKIP PROTECTED R2218 py=KEEP_ID:R2218 cmd=KEEP_ID:R2218
```
- L752
```
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] Tools Purge Flat APPLY v3 (plan-driven, ROOT ONLY, pair-aware)
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: Plan: C:\Users\rasta\OneDrive\ShrimpDev_REPO\docs\Tools_Purge_Flat_Plan.md
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: ========================================================================
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] SKIP PROTECTED R2218 py=KEEP_ID:R2218 cmd=KEEP_ID:R2218
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] SKIP PROTECTED R2224 py=KEEP_ID:R2224 cmd=KEEP_ID:R2224
```
- L753
```
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: Plan: C:\Users\rasta\OneDrive\ShrimpDev_REPO\docs\Tools_Purge_Flat_Plan.md
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: ========================================================================
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] SKIP PROTECTED R2218 py=KEEP_ID:R2218 cmd=KEEP_ID:R2218
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] SKIP PROTECTED R2224 py=KEEP_ID:R2224 cmd=KEEP_ID:R2224
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] moved_files=200 missing_parts=0
```
- L754
```
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: ========================================================================
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] SKIP PROTECTED R2218 py=KEEP_ID:R2218 cmd=KEEP_ID:R2218
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] SKIP PROTECTED R2224 py=KEEP_ID:R2224 cmd=KEEP_ID:R2224
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] moved_files=200 missing_parts=0
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] REPORT: C:\Users\rasta\OneDrive\ShrimpDev_REPO\Reports\R2224_Tools_Purge_Flat_APPLY_20251225_215114.txt
```
- L755
```
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] SKIP PROTECTED R2218 py=KEEP_ID:R2218 cmd=KEEP_ID:R2218
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] SKIP PROTECTED R2224 py=KEEP_ID:R2224 cmd=KEEP_ID:R2224
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] moved_files=200 missing_parts=0
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] REPORT: C:\Users\rasta\OneDrive\ShrimpDev_REPO\Reports\R2224_Tools_Purge_Flat_APPLY_20251225_215114.txt
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] DONE (Code 0)
```
- L756
```
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] SKIP PROTECTED R2224 py=KEEP_ID:R2224 cmd=KEEP_ID:R2224
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] moved_files=200 missing_parts=0
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] REPORT: C:\Users\rasta\OneDrive\ShrimpDev_REPO\Reports\R2224_Tools_Purge_Flat_APPLY_20251225_215114.txt
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] DONE (Code 0)
[2025-12-25 21:51:20] [RUNNER] END R2224 | exit=0
```
- L757
```
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] moved_files=200 missing_parts=0
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] REPORT: C:\Users\rasta\OneDrive\ShrimpDev_REPO\Reports\R2224_Tools_Purge_Flat_APPLY_20251225_215114.txt
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] DONE (Code 0)
[2025-12-25 21:51:20] [RUNNER] END R2224 | exit=0
[module_learningjournal] 2025-12-25 21:51:57 Learning-Eintrag geschrieben: type=intake_save, id=1319
```
- L758
```
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] REPORT: C:\Users\rasta\OneDrive\ShrimpDev_REPO\Reports\R2224_Tools_Purge_Flat_APPLY_20251225_215114.txt
[2025-12-25 21:51:20] [RUNNER] R2224 STDOUT: [R2224] DONE (Code 0)
[2025-12-25 21:51:20] [RUNNER] END R2224 | exit=0
[module_learningjournal] 2025-12-25 21:51:57 Learning-Eintrag geschrieben: type=intake_save, id=1319
[module_learningjournal] 2025-12-25 21:52:12 Learning-Eintrag geschrieben: type=intake_save, id=1320
```
- L2358
```
[2025-12-27 02:42:15] [RUNNER] START R2758 | R2758.cmd
[2025-12-27 02:42:15] [RUNNER] R2758 STDOUT: ======================================================================
[2025-12-27 02:42:15] [RUNNER] R2758 STDOUT: [R2758] PATCH: Top-right Push/Purge layout + clean LinkLedButton
[2025-12-27 02:42:15] [RUNNER] R2758 STDOUT: Root: "C:\Users\rasta\OneDrive\ShrimpDev_REPO"
[2025-12-27 02:42:15] [RUNNER] R2758 STDOUT: ======================================================================
```
- L2432
```
[2025-12-27 11:07:39] [RUNNER] START R2762 | R2762.cmd
[2025-12-27 11:07:39] [RUNNER] R2762 STDOUT: ======================================================================
[2025-12-27 11:07:39] [RUNNER] R2762 STDOUT: [R2762] PATCH: Start+Tick for push/link state + keep purge tick
[2025-12-27 11:07:39] [RUNNER] R2762 STDOUT: Root: "C:\Users\rasta\OneDrive\ShrimpDev_REPO"
[2025-12-27 11:07:39] [RUNNER] R2762 STDOUT: ======================================================================
```
- L2556
```
[2025-12-27 12:08:13] [RUNNER] START R2771 | R2771.cmd
[2025-12-27 12:08:13] [RUNNER] R2771 STDOUT: ======================================================================
[2025-12-27 12:08:13] [RUNNER] R2771 STDOUT: [R2771] READ-ONLY: Scan ui_link_led_button.py for patch anchors
[2025-12-27 12:08:13] [RUNNER] R2771 STDOUT: Root: "C:\Users\rasta\OneDrive\ShrimpDev_REPO"
[2025-12-27 12:08:13] [RUNNER] R2771 STDOUT: ======================================================================
```
- L2833
```
[2025-12-27 17:10:37] [RUNNER] START R2696 | R2696.cmd
[2025-12-27 17:10:37] [RUNNER] R2696 STDOUT: ======================================================================
[2025-12-27 17:10:37] [RUNNER] R2696 STDOUT: [R2696] RESTORE: tools\R2218.py (from Git HEAD or newest .bak)
[2025-12-27 17:10:37] [RUNNER] R2696 STDOUT: Root: "C:\Users\rasta\OneDrive\ShrimpDev_REPO\tools\.."
[2025-12-27 17:10:37] [RUNNER] R2696 STDOUT: ======================================================================
```
- L2843
```
[2025-12-27 17:10:52] [RUNNER] START R2694 | R2694.cmd
[2025-12-27 17:10:52] [RUNNER] R2694 STDOUT: ======================================================================
[2025-12-27 17:10:52] [RUNNER] R2694 STDOUT: [R2694] PATCH: Purge wiring + ui_toolbar link bugs (SAFE)
[2025-12-27 17:10:52] [RUNNER] R2694 STDOUT: Root: "C:\Users\rasta\OneDrive\ShrimpDev_REPO\tools\.."
[2025-12-27 17:10:52] [RUNNER] R2694 STDOUT: ======================================================================
```
- L2909
```
[2025-12-27 18:30:56] [RUNNER] START R2786 | R2786.cmd
[2025-12-27 18:30:56] [RUNNER] R2786 STDOUT: ======================================================================
[2025-12-27 18:30:56] [RUNNER] R2786 STDOUT: [R2786] PATCH: Purge uses R2218/R2224 + legacy report popup (_r1851_show_popup)
[2025-12-27 18:30:56] [RUNNER] R2786 STDOUT: Root: "C:\Users\rasta\OneDrive\ShrimpDev_REPO\tools\.."
[2025-12-27 18:30:56] [RUNNER] R2786 STDOUT: ======================================================================
```
- L2968
```
[2025-12-27 19:09:38] [RUNNER] START R2788 | R2788.cmd
[2025-12-27 19:09:38] [RUNNER] R2788 STDOUT: ======================================================================
[2025-12-27 19:09:38] [RUNNER] R2788 STDOUT: [R2788] PATCH: Rewire Purge buttons to Report-Popup wrapper (r1851)
[2025-12-27 19:09:38] [RUNNER] R2788 STDOUT: Root: "C:\Users\rasta\OneDrive\ShrimpDev_REPO\tools\.."
[2025-12-27 19:09:38] [RUNNER] R2788 STDOUT: ======================================================================
```
- L3007
```
[2025-12-27 19:20:49] [RUNNER] START R2790 | R2790.cmd
[2025-12-27 19:20:49] [RUNNER] R2790 STDOUT: ======================================================================
[2025-12-27 19:20:49] [RUNNER] R2790 STDOUT: [R2790] READ-ONLY DIAG: Purge Popup root-cause (wiring / INI / tk / call-path)
[2025-12-27 19:20:49] [RUNNER] R2790 STDOUT: Root: "C:\Users\rasta\OneDrive\ShrimpDev_REPO\tools\.."
[2025-12-27 19:20:49] [RUNNER] R2790 STDOUT: ======================================================================
```
- L3127
```
[2025-12-27 20:16:15] [RUNNER] START R2798 | R2798.cmd
[2025-12-27 20:16:15] [RUNNER] R2798 STDOUT: ======================================================================
[2025-12-27 20:16:15] [RUNNER] R2798 STDOUT: [R2798] DIAG: Instrument Purge click path + popup call tracing
[2025-12-27 20:16:15] [RUNNER] R2798 STDOUT: Root: "C:\Users\rasta\OneDrive\ShrimpDev_REPO\tools\.."
[2025-12-27 20:16:15] [RUNNER] R2798 STDOUT: ======================================================================
```
- L3148
```
[2025-12-27 20:44:45] [RUNNER] START R2799 | R2799.cmd
[2025-12-27 20:44:45] [RUNNER] R2799 STDOUT: ======================================================================
[2025-12-27 20:44:45] [RUNNER] R2799 STDOUT: [R2799] READ-ONLY DIAG: Determine actual Purge command wiring (ui_toolbar + logic_tools)
[2025-12-27 20:44:45] [RUNNER] R2799 STDOUT: Root: "C:\Users\rasta\OneDrive\ShrimpDev_REPO\tools\.."
[2025-12-27 20:44:45] [RUNNER] R2799 STDOUT: ======================================================================
```
- L3160
```
[2025-12-27 20:51:20] [RUNNER] START R2800 | R2800.cmd
[2025-12-27 20:51:20] [RUNNER] R2800 STDOUT: ======================================================================
[2025-12-27 20:51:20] [RUNNER] R2800 STDOUT: [R2800] PATCH: Purge shows Report-Popup (explicit logic_actions._r1851_show_popup)
[2025-12-27 20:51:20] [RUNNER] R2800 STDOUT: Root: "C:\Users\rasta\OneDrive\ShrimpDev_REPO\tools\.."
[2025-12-27 20:51:20] [RUNNER] R2800 STDOUT: ======================================================================
```
- L3181
```
[2025-12-27 21:00:48] [RUNNER] START R2801 | R2801.cmd
[2025-12-27 21:00:48] [RUNNER] R2801 STDOUT: ======================================================================
[2025-12-27 21:00:48] [RUNNER] R2801 STDOUT: [R2801] PATCH: Purge popup shows latest _Reports\R2218/R2224 TXT output
[2025-12-27 21:00:48] [RUNNER] R2801 STDOUT: Root: "C:\Users\rasta\OneDrive\ShrimpDev_REPO\tools\.."
[2025-12-27 21:00:48] [RUNNER] R2801 STDOUT: ======================================================================
```
- L3196
```
[2025-12-27 21:16:58] [RUNNER] START R2802 | R2802.cmd
[2025-12-27 21:16:58] [RUNNER] R2802 STDOUT: ======================================================================
[2025-12-27 21:16:58] [RUNNER] R2802 STDOUT: [R2802] FINAL PATCH: Purge uses standard after-run hook to show _Reports output in popup
[2025-12-27 21:16:58] [RUNNER] R2802 STDOUT: Root: "C:\Users\rasta\OneDrive\ShrimpDev_REPO\tools\.."
[2025-12-27 21:16:58] [RUNNER] R2802 STDOUT: ======================================================================
```
- L3212
```
[2025-12-27 21:23:16] [RUNNER] START R2802 | R2802.cmd
[2025-12-27 21:23:16] [RUNNER] R2802 STDOUT: ======================================================================
[2025-12-27 21:23:16] [RUNNER] R2802 STDOUT: [R2802] FINAL PATCH: Purge uses standard after-run hook to show _Reports output in popup
[2025-12-27 21:23:16] [RUNNER] R2802 STDOUT: Root: "C:\Users\rasta\OneDrive\ShrimpDev_REPO\tools\.."
[2025-12-27 21:23:16] [RUNNER] R2802 STDOUT: ======================================================================
```
- L3229
```
[2025-12-27 21:39:31] [RUNNER] START R2803 | R2803.cmd
[2025-12-27 21:39:31] [RUNNER] R2803 STDOUT: ======================================================================
[2025-12-27 21:39:31] [RUNNER] R2803 STDOUT: [R2803] FINAL FIX: Purge popup once + correct report source (Reports\Report_R2218/2224_*.md)
[2025-12-27 21:39:31] [RUNNER] R2803 STDOUT: Root: "C:\Users\rasta\OneDrive\ShrimpDev_REPO\tools\.."
[2025-12-27 21:39:31] [RUNNER] R2803 STDOUT: ======================================================================
```
- L3254
```
[2025-12-27 21:50:47] [RUNNER] START R2805 | R2805.cmd
[2025-12-27 21:50:47] [RUNNER] R2805 STDOUT: ======================================================================
[2025-12-27 21:50:47] [RUNNER] R2805 STDOUT: [R2805] FINAL CLEAN: Purge popup ONCE + correct report source (Reports\Report_R2218/2224_*.md)
[2025-12-27 21:50:47] [RUNNER] R2805 STDOUT: Root: "C:\Users\rasta\OneDrive\ShrimpDev_REPO\tools\.."
[2025-12-27 21:50:47] [RUNNER] R2805 STDOUT: ======================================================================
```
- L3278
```
[2025-12-27 22:27:30] [RUNNER] START R2807 | R2807.cmd
[2025-12-27 22:27:30] [RUNNER] R2807 STDOUT: ======================================================================
[2025-12-27 22:27:30] [RUNNER] R2807 STDOUT: [R2807] FINAL STRUCTURAL FIX: Purge popup single-source + real TXT output
[2025-12-27 22:27:30] [RUNNER] R2807 STDOUT: Root: "C:\Users\rasta\OneDrive\ShrimpDev_REPO\tools\.."
[2025-12-27 22:27:30] [RUNNER] R2807 STDOUT: ======================================================================
```
- L3312
```
[2025-12-27 22:31:42] [RUNNER] START R2807 | R2807.cmd
[2025-12-27 22:31:42] [RUNNER] R2807 STDOUT: ======================================================================
[2025-12-27 22:31:42] [RUNNER] R2807 STDOUT: [R2807] FINAL STRUCTURAL FIX: Purge popup single-source + real TXT output
[2025-12-27 22:31:42] [RUNNER] R2807 STDOUT: Root: "C:\Users\rasta\OneDrive\ShrimpDev_REPO\tools\.."
[2025-12-27 22:31:42] [RUNNER] R2807 STDOUT: ======================================================================
```

## Nächste Schritte (Pipeline-konform)
1. **Purge Trigger im Code eindeutig lokalisieren** (DIAG).
2. **Routing** aller Purge-Trigger über `toolbar_runner_exec.py` (APPLY).
3. **Report-Popup** standardisieren (MR-konform).
4. Danach erst: Auto-Purge/Housekeeping automatisieren (optional).
